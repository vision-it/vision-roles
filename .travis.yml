sudo: false
language: ruby
cache: bundler
rvm: 2.3.4
script:
  - 'bundle exec rake $CHECK'
matrix:
  fast_finish: true
  allow_failures:
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
    - env: STRICT_VARIABLES="yes" CHECK="beaker"
      bundler_args: --without rubocop
      services: docker
      sudo: required
  include:
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
    - env: STRICT_VARIABLES="yes" CHECK="lint"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="validate"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="spec"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="beaker"
      bundler_args: --without rubocop
      services: docker
      sudo: required
    - env: STRICT_VARIABLES="yes" CHECK="beaker" BEAKER_set="debian9"
      bundler_args: --without rubocop
      services: docker
      sudo: required
notifications:
  email: false
  slack:
    secure: UecVe2deOD1g6kIi8KpN7JCkWyVvLVf0uuxviHAqy68svQDWjZfRPY9N0rRYSkz0c3v/bUnc+FlqM8vnaF6df6wy3A3nIcopRWyhkY1UGipwdeh17TqS1l5MjMiwr7VaM6ig3hiD/K6/Nzv9LEss3T9TwXj3lro5FBwKHDupl2UOqvwCPK92kTHuS3APZBNfRArgpmCq1Ox+hVH8VNWQDNpmP4lstJNR+UzbiCahQSPZ4/TBPEcdy+Sek3Phhwt9tkP08rxaikIftaAl88GeAaFIQsLaYzIzogLrrBBLXqvQaS8Q/szg5uVlibmqPm1PqxbRpe2PwXe+QnD5C2VX2xxzEb48/mxSmD7Rbfl2XLtGRRI50mHG+mN5hLkuvDpEht1xGm0fkigg7riGXk8kG4fRUDDlGBL2H1EiEbOOt+r4qIUPz8sj6c1gQ5j/gQ99SPgkSrWWDOJLxADhLwdbqa9I1o4W/2mXFT6lT0pqcGIR7m2MA+lim+UBPheM2UIksanakN8QDfzz17sXNgye94dRUclYHPV5b80DR0JvZvDirpJzI19mpq5cxkr8K5+0uoTb+CnZU+uJ7a0lhwF90TPGz16ytONUt5r1lX5zhk35rYABMlijU/82ZH9y36DOaocN71Od2WQod3l2yoN2GaA9j4ctYJceeWoIRafi14o=
